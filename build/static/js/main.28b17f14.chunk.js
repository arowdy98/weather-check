(this["webpackJsonpplaces-autocomplete"]=this["webpackJsonpplaces-autocomplete"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(6),r=a.n(n),s=(a(11),a(2)),o=a(3),u=a(4),i=function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json?access_token=").concat("pk.eyJ1IjoiYXJvd2R5OTgiLCJhIjoiY2xoaTI4MWFtMDNzYTNob2VjYWFvN2dhbyJ9.2_ApHm6NrcpFHcou91H5XQ","&cachebuster=1625641871908&autocomplete=true&types=place"));case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.statusText);case 6:return e.abrupt("return",a.json());case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:"Unable to retrieve places"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),p=a(0),l="1ed63296c91bdb1bb883cb50d8509550",b="https://api.openweathermap.org/data/2.5/";var d=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({}),d=Object(u.a)(r,2),j=d[0],h=d[1],m=Object(c.useState)([]),f=Object(u.a)(m,2),v=f[0],x=f[1],O=function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(t.target.value),t.target.value){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,i(t.target.value);case 5:a=e.sent,!v.includes(t.target.value)&&a.features&&x(a.features.map((function(e){return e.place_name})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"undefined"!=typeof j.main&&j.main.temp>16?"app warm":"app",children:Object(p.jsxs)("main",{children:[Object(p.jsxs)("div",{className:"search-box",children:[Object(p.jsx)("input",{list:"places",type:"text",className:"search-bar",placeholder:"Search...",onChange:O,value:a,onKeyPress:function(e){"Enter"===e.key&&fetch("".concat(b,"weather?q=").concat(a,"&units=metric&APPID=").concat(l)).then((function(e){return e.json()})).then((function(e){h(e),n(""),x([])}))},pattern:v.join("|"),autoComplete:"off"}),Object(p.jsx)("datalist",{id:"places",children:v.map((function(e,t){return Object(p.jsx)("option",{children:e},t)}))})]}),"undefined"!=typeof j.main?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"location-box",children:[Object(p.jsxs)("div",{className:"location",children:[j.name,", ",j.sys.country]}),Object(p.jsx)("div",{className:"date",children:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),c=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],n=e.getFullYear();return"".concat(t," ").concat(a," ").concat(c," ").concat(n)}(new Date)})]}),Object(p.jsxs)("div",{className:"weather-box",children:[Object(p.jsxs)("div",{className:"temp",children:[Math.round(j.main.temp),"\xb0c"]}),Object(p.jsx)("div",{className:"weather",children:j.weather[0].main})]})]}):""]})})};r.a.render(Object(p.jsx)(d,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.28b17f14.chunk.js.map